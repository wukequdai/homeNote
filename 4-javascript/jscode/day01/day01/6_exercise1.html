<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			//定义函数getMax,参数:arr
			function getMax(arr){
				//从1开始遍历arr中每个元素,同时声明变量max,初始化为数组第一个元素的值
					//如果当前元素>max，就将max改为当前元素值
				for(var i=1,max=arr[0];
						i<arr.length;
						arr[i]>max&&(max=arr[i]),i++);
				//(遍历结束)
				return max;//返回max
			}
			
			/*测试:
			var arr=[3,1,5,2,4,7,6];
			console.log(getMax(arr));//7*/

			//鄙视题: 去掉数组中重复的元素:
			//定义函数unique1,参数:arr
			function unique1(arr){
				//i从1开始遍历arr中每个元素,同时声明数组r，初始化一个元素为arr中第0个元素
			 for(var i=1,r=[arr[0]];i<arr.length;i++){
					//j从0开始遍历r数组中每个元素
					for(var j=0;j<r.length;j++){
						//如果r数组中当前元素等于arr中当前元素，就退出循环
						if(r[j]==arr[i]){break;}
					}//(遍历结束)
					//如果j等于r的length时
						//就将arr中当前元素追加到r的结尾
					j==r.length&&(r[r.length]=arr[i]);
			 }//(遍历结束)
			 return r;//返回r
			}
			//hash:
			function unique2(arr){
				var hash=[];//声明空数组
				//将arr中第0个元素放入hash作为第一个key
				hash[arr[0]]=1;
				//i从1开始遍历arr中每个元素,同时声明数组hash，初始化一个元素为arr中第0个元素
				for(var i=1;i<arr.length;i++){
			 //如果hash中不包含arr中当前元素作为key的元素
					if(hash[arr[i]]===undefined){
				//在hash中添加新元素，key为arr中当前元素,值为1
						hash[arr[i]]=1;//为数组中不存在的位置赋值，结果会自动添加新元素
					}
				}
				//技巧:获取hash中的所有key
				var keys=[], i=0;
				for(keys[i++] in hash);
				return keys;//返回keys
			}
			/*测试
			var arr=[1,3,1,2,1,2];
			//console.log(String(unique1(arr)));
			console.log(unique2(arr));//[1,2,3]*/
		/*
			for(var i=0,nums=[];i<100000;i++){
				nums[i]=parseInt(Math.random()*1000);
			}
			console.time("unique1");
			unique1(nums);
			console.timeEnd("unique1");
			console.time("unique2");
			unique2(nums);
			console.timeEnd("unique2");
		*/

			//定义函数indexOf,参数:arr,val,fromi
			function indexOf(arr,val,fromi){
				//如果fromi是undefined,就fromi赋值为0
				fromi===undefined&&(fromi=0);
				//i从fromi开始遍历arr中每个元素
				for(var i=fromi;i<arr.length;i++){
					//如果当前元素等于val
					if(arr[i]==val){
						return i;//返回当前元素的位置
					}
				}//(遍历结束)
				return -1;//返回-1
			}

			//测试:
			var arr=[1,2,3,2,1];
			       //0 1 2 3 4
			//从0位置开始找第一个2的位置
			console.log(indexOf(arr,2/*,0*/));//1
			//从2位置开始找下一个2的位置
			console.log(indexOf(arr,2,2));//3
			//从4位置开始找下一个2的位置，返回-1
			console.log(indexOf(arr,2,4));//-1
			//从0位置开始找下一个4的位置，返回-1
			console.log(indexOf(arr,4/*,0*/));
		</script>
	</body>
</html>